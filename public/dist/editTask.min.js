"use strict";var params=window.location.search,id=new URLSearchParams(params).get("id"),taskIdDOM=document.querySelector(".task-edit-id"),taskNameDOM=document.querySelector(".task-edit-name"),editFormDOM=document.querySelector(".single-task-form"),formAlertDOM=document.querySelector(".form-alert"),taskCompletedDOM=document.querySelector(".task-edit-completed"),showTask=function(){var t,a,r,s,n;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(axios.get("/api/v1/tasks/".concat(id)));case 3:t=e.sent,a=t.data,r=a._id,s=a.completed,n=a.name,taskIdDOM.textContent=r,taskNameDOM.value=n,s&&(taskCompletedDOM.checked=!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}},null,null,[[0,11]])};showTask(),editFormDOM.addEventListener("submit",function(t){var a,r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,a=taskNameDOM.value,taskCompleted=taskCompletedDOM.checked,e.next=6,regeneratorRuntime.awrap(axios.patch("/api/v1/tasks/".concat(id),{name:a,completed:taskCompleted}));case 6:r=e.sent,r.data,formAlertDOM.style.display="block",formAlertDOM.textContent="編集に成功しました。",formAlertDOM.classList.add("text-success"),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0),formAlertDOM.style.display="block",formAlertDOM.innerHTML="無効です。もう一度やり直して下さい。";case 18:setTimeout(function(){formAlertDOM.style.display="none",formAlertDOM.classList.remove("text-success")},3e3);case 19:case"end":return e.stop()}},null,null,[[1,13]])});
//# sourceMappingURL=editTask.min.js.map
