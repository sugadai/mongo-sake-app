{"version":3,"sources":["editTask.js"],"names":["params","window","location","search","get","taskIdDOM","document","querySelector","taskNameDOM","editFormDOM","formAlertDOM","showTask","_ref","task","_id","completed","name","regeneratorRuntime","async","_context","prev","next","awrap","axios","concat","id","sent","data","textContent","value","taskCompletedDOM","checked","t0","console","log","stop","e","taskName","_ref2","_context2","preventDefault","taskCompleted","patch","style","display","classList","add","innerHTML","setTimeout","remove"],"mappings":"aAAA,IAAAA,OAAAC,OAAAC,SAAAC,OAEMH,GAAM,IAAGC,gBAAgBE,QAA/BC,IAAA,MAGMC,UAAYC,SAASC,cAAc,iBAAnCF,YAAYC,SAASC,cAAc,mBACnCC,YAAcF,SAASC,cAAc,qBACrCE,aAAcH,SAASC,cAAc,eACrCG,iBAAeJ,SAASC,cAAc,wBAItCI,SAAW,WAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAC,mBAAAC,MAAA,SAAAC,GAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EAAA,OAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAAAJ,mBAAAK,MAEmBC,MAAMnB,IAAN,iBAAAoB,OAA2BC,MAF9C,KAAA,EAAAb,EAAAO,EAAAO,KAEKb,EAFLD,EAEFe,KAFEb,EAAAD,EAAAC,IAAAC,EAAAF,EAAAE,UAAAC,EAAAH,EAAAG,KAAAX,UAAAuB,YAAAd,EAAAN,YAAAqB,MAAAb,EAAAD,IAAAe,iBAAAC,SAAA,GAAAZ,EAAAE,KAAA,GAAA,MAAA,KAAA,GAAAF,EAAAC,KAAA,GAAAD,EAAAa,GAAAb,EAAA,MAAA,GAUTc,QAAQC,IAARf,EAAAa,IAVS,KAAA,GAAA,IAAA,MAAA,OAAAb,EAAAgB,SAAA,KAAA,KAAA,CAAA,CAAA,EAAA,OAEKtB,WAGdL,YAAAA,iBAAA,SAAA,SAAA4B,GAAA,IAAAC,EAAAC,EAAA,OAAArB,mBAAAC,MAAA,SAAAqB,GAAA,OAAA,OAAAA,EAAAnB,KAAAmB,EAAAlB,MAAA,KAAA,EAAA,OAYJe,EAAEI,iBAZED,EAAAnB,KAAA,EAEIU,EAAAA,YAAAD,MACHY,cAAAX,iBAAAC,QAHDQ,EAAAlB,KAAA,EAAAJ,mBAAAK,MAgB4BC,MAAMmB,MAAN,iBAAAlB,OAA6BC,IArBhD,CAAAT,KAAAqB,EAwBLtB,UAAY0B,iBAnBhB,KAAA,EAAAH,EAAAC,EAAAb,KAAAY,EAgBOX,KArBEjB,aAAAiC,MAAAC,QAAA,QAAAlC,aAAAkB,YAAA,aAUTK,aAAAY,UAAAC,IAAA,gBALAP,EAAAlB,KAAA,GAAA,MAAA,KAAA,GAAAkB,EAAAnB,KAAA,GAAAmB,EAAAP,GAAAO,EAAA,MAAA,GALSN,QAAAC,IAAAK,EAAAP,IAAAtB,aAAAiC,MAAAC,QAAA,QAAAlC,aAAAqC,UAAA,qBAKT,KAAA,GALSC,WAAA,WAAAtC,aAAAiC,MAAAC,QAAA,OAAjBlC,aAAAmC,UAAAI,OAAA,iBAqCM,KAhCE,KAAA,GAAA,IAAA,MAAA,OAAAV,EAAAJ,SAAA,KAAA,KAAA,CAAA,CAAA,EAAA","file":"editTask.min.js","sourcesContent":["// const { format } = require(\"express/lib/response\");\n\nconst params = window.location.search;\nconst id = new URLSearchParams(params).get(\"id\");\n// console.log(id)\nconst taskIdDOM = document.querySelector('.task-edit-id');\nconst taskNameDOM = document.querySelector('.task-edit-name');\nconst editFormDOM = document.querySelector('.single-task-form');\nconst formAlertDOM = document.querySelector('.form-alert');\nconst taskCompletedDOM = document.querySelector('.task-edit-completed');\n\n// 一つの特定のタスクを取得する\nconst showTask = async () =>{\n    try {\n        const {data : task} = await axios.get(`/api/v1/tasks/${id}`);\n        const {_id ,completed, name} = task;\n        taskIdDOM.textContent = _id;\n        taskNameDOM.value = name;\n        if(completed){\n            taskCompletedDOM.checked = true;\n        }\n    } catch (error) {\n        console.log(error)\n    }\n}\nshowTask();\n\n//タスクの編集\neditFormDOM.addEventListener('submit', async (e) =>{\n    e.preventDefault();\n    try {\n        const taskName = taskNameDOM.value;\n        taskCompleted =  taskCompletedDOM.checked;\n        const {data : task} = await axios.patch(`/api/v1/tasks/${id}`,\n        {\n            name : taskName,\n            completed : taskCompleted,\n        });\n        formAlertDOM.style.display = \"block\";\n        formAlertDOM.textContent = \"編集に成功しました。\"\n        formAlertDOM.classList.add(\"text-success\");\n    } catch (error) {\n        console.log(error);\n        formAlertDOM.style.display = \"block\";\n        formAlertDOM.innerHTML = \"無効です。もう一度やり直して下さい。\"\n    }\n    setTimeout(()=>{\n        formAlertDOM.style.display = \"none\"\n        formAlertDOM.classList.remove(\"text-success\");\n    },3000);\n});"]}