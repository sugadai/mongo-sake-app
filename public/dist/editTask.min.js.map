{"version":3,"sources":["editTask.js"],"names":["params","window","location","search","get","sakeIdDOM","document","querySelector","sakeNameDOM","sakeTypeDOM","editFormDOM","formAlertDOM","showTask","_ref","task","_id","completed","saketype","sakename","regeneratorRuntime","async","_context","prev","next","awrap","axios","concat","id","sent","data","textContent","value","sakeCompletedDOM","checked","t0","console","log","stop","e","taskName","_ref2","_context2","preventDefault","sakeCompleted","patch","style","display","classList","add","innerHTML","setTimeout","remove"],"mappings":"aAAA,IAAAA,OAAAC,OAAAC,SAAAC,OAEMH,GAAM,IAAGC,gBAAgBE,QAA/BC,IAAA,MAGMC,UAAYC,SAASC,cAAc,iBAAnCF,YAAYC,SAASC,cAAc,mBACnCC,YAAcF,SAASC,cAAc,mBACrCE,YAAcH,SAASC,cAAc,qBACrCG,aAAcJ,SAASC,cAAc,eACrCI,iBAAeL,SAASC,cAAc,wBAItCK,SAAW,WAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAC,mBAAAC,MAAA,SAAAC,GAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EAAA,OAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAAAJ,mBAAAK,MAEmBC,MAAMrB,IAAN,iBAAAsB,OAA2BC,MAF9C,KAAA,EAAAd,EAAAQ,EAAAO,KAEKd,EAFLD,EAEFgB,KAFEd,EAAAD,EAAAC,IAAAC,EAAAF,EAAAE,UAAAC,EAAAH,EAAAG,SAAAC,EAAAJ,EAAAI,SAAAb,UAAAyB,YAAAf,EAAAP,YAAAuB,MAAAb,EAAAT,YAAAsB,MAAAd,EAAAD,IAAAgB,iBAAAC,SAAA,GAAAZ,EAAAE,KAAA,GAAA,MAAA,KAAA,GAAAF,EAAAC,KAAA,GAAAD,EAAAa,GAAAb,EAAA,MAAA,GAAAc,QAAAC,IAAAf,EAAAa,IAAA,KAAA,GAAA,IAAA,MAAA,OAAAb,EAAAgB,SAAA,KAAA,KAAA,CAAA,CAAA,EAAA,OAIFtB,WAGPN,YAAAA,iBAAA,SAAA,SAAA6B,GAAA,IAAAC,EAAAtB,EAAAuB,EAAA,OAAArB,mBAAAC,MAAA,SAAAqB,GAAA,OAAA,OAAAA,EAAAnB,KAAAmB,EAAAlB,MAAA,KAAA,EAAA,OAYJe,EAAEI,iBAZED,EAAAnB,KAAA,EAEIU,EAAAA,YAAAD,MACHd,EAAAR,YAAAsB,MAaDY,cAAiBX,iBAAiBC,QAhBlCQ,EAAAlB,KAAA,EAAAJ,mBAAAK,MAPSC,MAAAmB,MAAA,iBAAAlB,OAAAC,IAAA,CA0BLT,SAAWqB,EA1BNtB,SAAAA,EAAAD,UAAA2B,iBAOT,KAAA,EAAAH,EAAAC,EAAAb,KAAAY,EAPSX,KAYTM,aAAAU,MAAAC,QAAA,QAmBAnC,aAAamB,YAAc,aA/BlBnB,aAAAoC,UAAAC,IAAA,gBAOTP,EAAAlB,KAAA,GAAA,MAAA,KAAA,GAAAkB,EAAAnB,KAAA,GAAAmB,EAAAP,GAAAO,EAAA,MAAA,GAPSN,QAAAC,IAAAK,EAAAP,IAAAvB,aAAAkC,MAAAC,QAAA,QAAAnC,aAAAsC,UAAA,qBAOT,KAAA,GAPRC,WAAA,WAuCQvC,aAAakC,MAAMC,QAAU,OAxB7BnC,aAERoC,UAAAI,OAAA,iBAwBM,KAlCE,KAAA,GAAA,IAAA,MAAA,OAAAV,EAAAJ,SAAA,KAAA,KAAA,CAAA,CAAA,EAAA","file":"editTask.min.js","sourcesContent":["// const { format } = require(\"express/lib/response\");\n\nconst params = window.location.search;\nconst id = new URLSearchParams(params).get(\"id\");\n// console.log(id)\nconst sakeIdDOM = document.querySelector('.task-edit-id');\nconst sakeNameDOM = document.querySelector('.task-edit-name');\nconst sakeTypeDOM = document.querySelector('.task-edit-type');\nconst editFormDOM = document.querySelector('.single-task-form');\nconst formAlertDOM = document.querySelector('.form-alert');\nconst sakeCompletedDOM = document.querySelector('.task-edit-completed');\n\n// 一つの特定のタスクを取得する\nconst showTask = async () =>{\n    try {\n        const {data : task} = await axios.get(`/api/v1/tasks/${id}`);\n        // console.log(task)\n        const {_id ,completed, saketype,sakename} = task;\n        sakeIdDOM.textContent = _id;\n        sakeNameDOM.value = sakename;\n        sakeTypeDOM.value = saketype;\n        if(completed){\n            sakeCompletedDOM.checked = true;\n        }\n    } catch (error) {\n        console.log(error)\n    }\n}\nshowTask();\n\n//タスクの編集\neditFormDOM.addEventListener('submit', async (e) =>{\n    e.preventDefault();\n    try {\n        const taskName = sakeNameDOM.value;\n        const saketype = sakeTypeDOM.value;\n        sakeCompleted =  sakeCompletedDOM.checked;\n        const {data : task} = await axios.patch(`/api/v1/tasks/${id}`,\n        {\n            sakename : taskName,\n            saketype : saketype,\n            completed : sakeCompleted,\n        });\n        formAlertDOM.style.display = \"block\";\n        formAlertDOM.textContent = \"編集に成功しました。\"\n        formAlertDOM.classList.add(\"text-success\");\n    } catch (error) {\n        console.log(error);\n        formAlertDOM.style.display = \"block\";\n        formAlertDOM.innerHTML = \"無効です。もう一度やり直して下さい。\"\n    }\n    setTimeout(()=>{\n        formAlertDOM.style.display = \"none\"\n        formAlertDOM.classList.remove(\"text-success\");\n    },3000);\n});"]}