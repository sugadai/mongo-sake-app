{"version":3,"sources":["script.js"],"names":["tasksDOM","document","querySelector","formDOM","taskInputDOM","formAlertDOM","showTasks","axios","get","tasks","data","console","log","length","innerHTML","allTasks","map","task","completed","_id","name","join","addEventListener","event","preventDefault","value","post","style","display","textContent","classList","add","setTimeout","remove","element","target","parentElement","contains","id","dataset"],"mappings":"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","sourcesContent":["const tasksDOM = document.querySelector('.tasks');\nconst formDOM = document.querySelector('.task-form');\nconst taskInputDOM = document.querySelector('.task-input')\nconst formAlertDOM = document.querySelector('.form-alert');\n// /api/v1/tasksからタスクを読み込む\nconst showTasks = async () =>{\n    try {\n        //実作apiにアクセス\n        const {data: tasks} = await axios.get(\"/api/v1/tasks\");\n        //タスクがない時の表示\n        console.log(tasks.length);\n        if(tasks.length < 1){\n            tasksDOM.innerHTML = `<h5 class=\"empty-list\">タスクがありません。</h5>`;\n            return\n        }\n        //タスクを出力\n        const allTasks = tasks.map((task) => {\n            const {completed, _id, name} = task;\n            return             `<div class=\"single-task ${completed && \"task-completed\"}\">\n            <h5>\n                <span><i class=\"far fa-check-circle\"></i></span>${name}\n            </h5>\n            <div class=\"task-links\">\n                <!-- 編集リンク -->\n                <a href=\"edit.html?id=${_id}\" class=\"edit-link\">\n                    <i class=\"fas fa-edit\"></i>\n                </a>\n                <button type=\"button\" class=\"delete-btn\" data-id=\"${_id}\">\n                    <i class=\"fas fa-trash\"></i>\n                </button>\n            </div>\n        </div>`;\n        }).join(\"\");\n        // console.log(allTasks)\n        tasksDOM.innerHTML = allTasks;\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nshowTasks();\n\n//タスクの新規作成\nformDOM.addEventListener('submit',async (event)=>{\n    event.preventDefault();\n    const name = taskInputDOM.value;\n    try {\n        await axios.post(\"/api/v1/tasks\",{name : name})\n        showTasks();\n        taskInputDOM.value = \"\";\n        formAlertDOM.style.display = \"block\";\n        formAlertDOM.textContent = \"タスクを追加しました。\";\n        formAlertDOM.classList.add(\"text-success\");\n    } catch (error) {\n        console.log(error)\n        formAlertDOM.style.display = \"block\";\n        formAlertDOM.innerHTML = '無効です。もう一度やり直して下さい。'\n    }\n    setTimeout(()=>{\n        formAlertDOM.style.display = \"none\"\n        formAlertDOM.classList.remove(\"text-success\");\n    },3000);\n});\n\n//タスクの削除\ntasksDOM.addEventListener('click',async(event) => {\n    const element = event.target;\n    console.log(element.parentElement);\n    if(element.parentElement.classList.contains(\"delete-btn\")){\n        const id = element.parentElement.dataset.id;\n        // console.log(id)\n        try {\n            await axios.delete(`/api/v1/tasks/${id}`);\n            showTasks();\n        } catch (error) {\n            console.log(error)\n        }\n    }\n})"],"file":"script.dev.js"}