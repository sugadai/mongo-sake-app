{"version":3,"sources":["script.js"],"names":["tasksDOM","document","querySelector","formDOM","sakeinputDOM","getElementById","formAlertDOM","saketypeDOM","showTasks","axios","get","tasks","data","length","innerHTML","allTasks","map","task","completed","_id","saketype","sakename","join","console","log","addEventListener","event","preventDefault","value","post","style","display","textContent","classList","add","setTimeout","remove","element","target","parentElement","contains","id","dataset"],"mappings":"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","sourcesContent":["const tasksDOM = document.querySelector('.tasks');\nconst formDOM = document.querySelector('.task-form');\nconst sakeinputDOM = document.getElementById('sake-input');\n// const saketypeDOM = document.getElementById('saketype-input');\nconst formAlertDOM = document.querySelector('.form-alert');\nconst saketypeDOM = document.getElementById('saketype');\n\n\n// /api/v1/tasksからタスクを読み込む\nconst showTasks = async () =>{\n    try {\n        //実作apiにアクセス\n        const {data: tasks} = await axios.get(\"/api/v1/tasks\");\n        //タスクがない時の表示\n        // console.log(tasks[0]._id);\n        if(tasks.length < 1){\n            tasksDOM.innerHTML = `<h5 class=\"empty-list\">酒のデータがありません。</h5>`;\n            return\n        }\n        //タスクを出力\n        const allTasks = tasks.map((task) => {\n            const {completed, _id, saketype, sakename} = task;\n            return             `<div class=\"single-task ${completed && \"task-completed\"}\">\n            <h5>\n                <span><i class=\"far fa-check-circle\"></i></span>${sakename}\n                <span><i ></i></span>${saketype}\n            </h5>\n            <div class=\"task-links\">\n                <!-- 編集リンク -->\n                <a href=\"edit.html?id=${_id}\" class=\"edit-link\">\n                    <i class=\"fas fa-edit\"></i>\n                </a>\n                <button type=\"button\" class=\"delete-btn\" data-id=\"${_id}\">\n                    <i class=\"fas fa-trash\"></i>\n                </button>\n            </div>\n        </div>`;\n        }).join(\"\");\n        // console.log(allTasks)\n        tasksDOM.innerHTML = allTasks;\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nshowTasks();\n\n//タスクの新規作成\nformDOM.addEventListener('submit',async (event)=>{\n    event.preventDefault();\n    // console.log(sakeType.value);\n    // console.log(sakeinputDOM,saketypeDOM)\n    const sakename = sakeinputDOM.value;\n    const saketype = saketypeDOM.value;\n    try {\n        await axios.post(\"/api/v1/tasks\",{sakename : sakename,saketype : saketype});\n        showTasks();\n        sakeinputDOM.value = \"\";\n        formAlertDOM.style.display = \"block\";\n        formAlertDOM.textContent = \"日本酒を追加しました。\";\n        formAlertDOM.classList.add(\"text-success\");\n    } catch (error) {\n        console.log(error)\n        formAlertDOM.style.display = \"block\";\n        formAlertDOM.innerHTML = '無効です。もう一度やり直して下さい。'\n    }\n    setTimeout(()=>{\n        formAlertDOM.style.display = \"none\"\n        formAlertDOM.classList.remove(\"text-success\");\n    },3000);\n});\n\n//タスクの削除\ntasksDOM.addEventListener('click',async(event) => {\n    const element = event.target;\n    // console.log(element.parentElement);\n    if(element.parentElement.classList.contains(\"delete-btn\")){\n        const id = element.parentElement.dataset.id;\n        // console.log(id)\n        try {\n            await axios.delete(`/api/v1/tasks/${id}`);\n            showTasks();\n        } catch (error) {\n            console.log(error)\n        }\n    }\n})"],"file":"script.dev.js"}