"use strict";var tasksDOM=document.querySelector(".tasks"),formDOM=document.querySelector(".task-form"),taskInputDOM=document.querySelector(".task-input"),formAlertDOM=document.querySelector(".form-alert"),showTasks=function(){var t,n,s;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(axios.get("/api/v1/tasks"));case 3:if(t=e.sent,n=t.data,console.log(n.length),n.length<1)return tasksDOM.innerHTML='<h5 class="empty-list">タスクがありません。</h5>',e.abrupt("return");e.next=9;break;case 9:s=n.map(function(e){var t=e.completed,n=e._id,s=e.name;return'<div class="single-task '.concat(t&&"task-completed",'">\n            <h5>\n                <span><i class="far fa-check-circle"></i></span>').concat(s,'\n            </h5>\n            <div class="task-links">\n                \x3c!-- 編集リンク --\x3e\n                <a href="edit.html?id=').concat(n,'" class="edit-link">\n                    <i class="fas fa-edit"></i>\n                </a>\n                <button type="button" class="delete-btn" data-id="').concat(n,'">\n                    <i class="fas fa-trash"></i>\n                </button>\n            </div>\n        </div>')}).join(""),tasksDOM.innerHTML=s,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}},null,null,[[0,13]])};showTasks(),formDOM.addEventListener("submit",function(t){var n;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=taskInputDOM.value,e.prev=2,e.next=5,regeneratorRuntime.awrap(axios.post("/api/v1/tasks",{name:n}));case 5:showTasks(),taskInputDOM.value="",formAlertDOM.style.display="block",formAlertDOM.textContent="タスクを追加しました。",formAlertDOM.classList.add("text-success"),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0),formAlertDOM.style.display="block",formAlertDOM.innerHTML="無効です。もう一度やり直して下さい。";case 17:setTimeout(function(){formAlertDOM.style.display="none",formAlertDOM.classList.remove("text-success")},3e3);case 18:case"end":return e.stop()}},null,null,[[2,12]])}),tasksDOM.addEventListener("click",function(t){var n,s;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target,console.log(n.parentElement),n.parentElement.classList.contains("delete-btn"))return s=n.parentElement.dataset.id,e.prev=4,e.next=7,regeneratorRuntime.awrap(axios.delete("/api/v1/tasks/".concat(s)));e.next=13;break;case 7:showTasks(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),console.log(e.t0);case 13:case"end":return e.stop()}},null,null,[[4,10]])});
//# sourceMappingURL=script.min.js.map
