"use strict";var tasksDOM=document.querySelector(".tasks"),formDOM=document.querySelector(".task-form"),sakeinputDOM=document.getElementById("sake-input"),formAlertDOM=document.querySelector(".form-alert"),saketypeDOM=document.getElementById("saketype"),showTasks=function(){var t,n,a;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(axios.get("/api/v1/tasks"));case 3:if(t=e.sent,(n=t.data).length<1)return tasksDOM.innerHTML='<h5 class="empty-list">酒のデータがありません。</h5>',e.abrupt("return");e.next=8;break;case 8:a=n.map(function(e){var t=e.completed,n=e._id,a=e.saketype,s=e.sakename;return'<div class="single-task '.concat(t&&"task-completed",'">\n            <h5>\n                <span><i class="far fa-check-circle"></i></span>').concat(s,"\n                <span><i ></i></span>").concat(a,'\n            </h5>\n            <div class="task-links">\n                \x3c!-- 編集リンク --\x3e\n                <a href="edit.html?id=').concat(n,'" class="edit-link">\n                    <i class="fas fa-edit"></i>\n                </a>\n                <button type="button" class="delete-btn" data-id="').concat(n,'">\n                    <i class="fas fa-trash"></i>\n                </button>\n            </div>\n        </div>')}).join(""),tasksDOM.innerHTML=a,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}},null,null,[[0,12]])};showTasks(),formDOM.addEventListener("submit",function(t){var n,a;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=sakeinputDOM.value,a=saketypeDOM.value,e.prev=3,e.next=6,regeneratorRuntime.awrap(axios.post("/api/v1/tasks",{sakename:n,saketype:a}));case 6:showTasks(),sakeinputDOM.value="",formAlertDOM.style.display="block",formAlertDOM.textContent="日本酒を追加しました。",formAlertDOM.classList.add("text-success"),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0),formAlertDOM.style.display="block",formAlertDOM.innerHTML="無効です。もう一度やり直して下さい。";case 18:setTimeout(function(){formAlertDOM.style.display="none",formAlertDOM.classList.remove("text-success")},3e3);case 19:case"end":return e.stop()}},null,null,[[3,13]])}),tasksDOM.addEventListener("click",function(t){var n,a;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t.target).parentElement.classList.contains("delete-btn"))return a=n.parentElement.dataset.id,e.prev=3,e.next=6,regeneratorRuntime.awrap(axios.delete("/api/v1/tasks/".concat(a)));e.next=12;break;case 6:showTasks(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.log(e.t0);case 12:case"end":return e.stop()}},null,null,[[3,9]])});
//# sourceMappingURL=script.min.js.map
