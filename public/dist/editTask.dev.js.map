{"version":3,"sources":["editTask.js"],"names":["params","window","location","search","id","URLSearchParams","get","sakeIdDOM","document","querySelector","sakeNameDOM","sakeTypeDOM","editFormDOM","formAlertDOM","sakeCompletedDOM","showTask","axios","task","data","_id","completed","saketype","sakename","textContent","value","checked","console","log","addEventListener","e","preventDefault","taskName","sakeCompleted","patch","style","display","classList","add","innerHTML","setTimeout","remove"],"mappings":"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","sourcesContent":["// const { format } = require(\"express/lib/response\");\n\nconst params = window.location.search;\nconst id = new URLSearchParams(params).get(\"id\");\n// console.log(id)\nconst sakeIdDOM = document.querySelector('.task-edit-id');\nconst sakeNameDOM = document.querySelector('.task-edit-name');\nconst sakeTypeDOM = document.querySelector('.task-edit-type');\nconst editFormDOM = document.querySelector('.single-task-form');\nconst formAlertDOM = document.querySelector('.form-alert');\nconst sakeCompletedDOM = document.querySelector('.task-edit-completed');\n\n// 一つの特定のタスクを取得する\nconst showTask = async () =>{\n    try {\n        const {data : task} = await axios.get(`/api/v1/tasks/${id}`);\n        // console.log(task)\n        const {_id ,completed, saketype,sakename} = task;\n        sakeIdDOM.textContent = _id;\n        sakeNameDOM.value = sakename;\n        sakeTypeDOM.value = saketype;\n        if(completed){\n            sakeCompletedDOM.checked = true;\n        }\n    } catch (error) {\n        console.log(error)\n    }\n}\nshowTask();\n\n//タスクの編集\neditFormDOM.addEventListener('submit', async (e) =>{\n    e.preventDefault();\n    try {\n        const taskName = sakeNameDOM.value;\n        const saketype = sakeTypeDOM.value;\n        sakeCompleted =  sakeCompletedDOM.checked;\n        const {data : task} = await axios.patch(`/api/v1/tasks/${id}`,\n        {\n            sakename : taskName,\n            saketype : saketype,\n            completed : sakeCompleted,\n        });\n        formAlertDOM.style.display = \"block\";\n        formAlertDOM.textContent = \"編集に成功しました。\"\n        formAlertDOM.classList.add(\"text-success\");\n    } catch (error) {\n        console.log(error);\n        formAlertDOM.style.display = \"block\";\n        formAlertDOM.innerHTML = \"無効です。もう一度やり直して下さい。\"\n    }\n    setTimeout(()=>{\n        formAlertDOM.style.display = \"none\"\n        formAlertDOM.classList.remove(\"text-success\");\n    },3000);\n});"],"file":"editTask.dev.js"}