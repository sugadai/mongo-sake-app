{"version":3,"sources":["editTask.js"],"names":["params","window","location","search","id","URLSearchParams","get","taskIdDOM","document","querySelector","taskNameDOM","editFormDOM","formAlertDOM","taskCompletedDOM","showTask","axios","task","data","_id","completed","name","textContent","value","checked","console","log","addEventListener","e","preventDefault","taskName","taskCompleted","patch","style","display","classList","add","innerHTML","setTimeout","remove"],"mappings":";;AAAA;AAEA,IAAMA,MAAM,GAAGC,MAAM,CAACC,QAAP,CAAgBC,MAA/B;AACA,IAAMC,EAAE,GAAG,IAAIC,eAAJ,CAAoBL,MAApB,EAA4BM,GAA5B,CAAgC,IAAhC,CAAX,C,CACA;;AACA,IAAMC,SAAS,GAAGC,QAAQ,CAACC,aAAT,CAAuB,eAAvB,CAAlB;AACA,IAAMC,WAAW,GAAGF,QAAQ,CAACC,aAAT,CAAuB,iBAAvB,CAApB;AACA,IAAME,WAAW,GAAGH,QAAQ,CAACC,aAAT,CAAuB,mBAAvB,CAApB;AACA,IAAMG,YAAY,GAAGJ,QAAQ,CAACC,aAAT,CAAuB,aAAvB,CAArB;AACA,IAAMI,gBAAgB,GAAGL,QAAQ,CAACC,aAAT,CAAuB,sBAAvB,CAAzB,C,CAEA;;AACA,IAAMK,QAAQ,GAAG,SAAXA,QAAW;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAEmBC,KAAK,CAACT,GAAN,yBAA2BF,EAA3B,EAFnB;;AAAA;AAAA;AAEKY,UAAAA,IAFL,QAEFC,IAFE;AAGFC,UAAAA,GAHE,GAGsBF,IAHtB,CAGFE,GAHE,EAGGC,SAHH,GAGsBH,IAHtB,CAGGG,SAHH,EAGcC,IAHd,GAGsBJ,IAHtB,CAGcI,IAHd;AAITb,UAAAA,SAAS,CAACc,WAAV,GAAwBH,GAAxB;AACAR,UAAAA,WAAW,CAACY,KAAZ,GAAoBF,IAApB;;AACA,cAAGD,SAAH,EAAa;AACTN,YAAAA,gBAAgB,CAACU,OAAjB,GAA2B,IAA3B;AACH;;AARQ;AAAA;;AAAA;AAAA;AAAA;AAUTC,UAAAA,OAAO,CAACC,GAAR;;AAVS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAjB;;AAaAX,QAAQ,G,CAER;;AACAH,WAAW,CAACe,gBAAZ,CAA6B,QAA7B,EAAuC,iBAAOC,CAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AACnCA,UAAAA,CAAC,CAACC,cAAF;AADmC;AAGzBC,UAAAA,QAHyB,GAGdnB,WAAW,CAACY,KAHE;AAI/BQ,UAAAA,aAAa,GAAIjB,gBAAgB,CAACU,OAAlC;AAJ+B;AAAA,0CAKHR,KAAK,CAACgB,KAAN,yBAA6B3B,EAA7B,GAC5B;AACIgB,YAAAA,IAAI,EAAGS,QADX;AAEIV,YAAAA,SAAS,EAAGW;AAFhB,WAD4B,CALG;;AAAA;AAAA;AAKjBd,UAAAA,IALiB,SAKxBC,IALwB;AAU/BL,UAAAA,YAAY,CAACoB,KAAb,CAAmBC,OAAnB,GAA6B,OAA7B;AACArB,UAAAA,YAAY,CAACS,WAAb,GAA2B,YAA3B;AACAT,UAAAA,YAAY,CAACsB,SAAb,CAAuBC,GAAvB,CAA2B,cAA3B;AAZ+B;AAAA;;AAAA;AAAA;AAAA;AAc/BX,UAAAA,OAAO,CAACC,GAAR;AACAb,UAAAA,YAAY,CAACoB,KAAb,CAAmBC,OAAnB,GAA6B,OAA7B;AACArB,UAAAA,YAAY,CAACwB,SAAb,GAAyB,oBAAzB;;AAhB+B;AAkBnCC,UAAAA,UAAU,CAAC,YAAI;AACXzB,YAAAA,YAAY,CAACoB,KAAb,CAAmBC,OAAnB,GAA6B,MAA7B;AACArB,YAAAA,YAAY,CAACsB,SAAb,CAAuBI,MAAvB,CAA8B,cAA9B;AACH,WAHS,EAGR,IAHQ,CAAV;;AAlBmC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAvC","sourcesContent":["// const { format } = require(\"express/lib/response\");\n\nconst params = window.location.search;\nconst id = new URLSearchParams(params).get(\"id\");\n// console.log(id)\nconst taskIdDOM = document.querySelector('.task-edit-id');\nconst taskNameDOM = document.querySelector('.task-edit-name');\nconst editFormDOM = document.querySelector('.single-task-form');\nconst formAlertDOM = document.querySelector('.form-alert');\nconst taskCompletedDOM = document.querySelector('.task-edit-completed');\n\n// 一つの特定のタスクを取得する\nconst showTask = async () =>{\n    try {\n        const {data : task} = await axios.get(`/api/v1/tasks/${id}`);\n        const {_id ,completed, name} = task;\n        taskIdDOM.textContent = _id;\n        taskNameDOM.value = name;\n        if(completed){\n            taskCompletedDOM.checked = true;\n        }\n    } catch (error) {\n        console.log(error)\n    }\n}\nshowTask();\n\n//タスクの編集\neditFormDOM.addEventListener('submit', async (e) =>{\n    e.preventDefault();\n    try {\n        const taskName = taskNameDOM.value;\n        taskCompleted =  taskCompletedDOM.checked;\n        const {data : task} = await axios.patch(`/api/v1/tasks/${id}`,\n        {\n            name : taskName,\n            completed : taskCompleted,\n        });\n        formAlertDOM.style.display = \"block\";\n        formAlertDOM.textContent = \"編集に成功しました。\"\n        formAlertDOM.classList.add(\"text-success\");\n    } catch (error) {\n        console.log(error);\n        formAlertDOM.style.display = \"block\";\n        formAlertDOM.innerHTML = \"無効です。もう一度やり直して下さい。\"\n    }\n    setTimeout(()=>{\n        formAlertDOM.style.display = \"none\"\n        formAlertDOM.classList.remove(\"text-success\");\n    },3000);\n});"],"file":"editTask.dev.js"}